<!DOCTYPE html>
<html>

<head>
	<title>thankfull</title>

	<!--CSS, Bootstrap & Jquery CDNs-->
	<link rel="stylesheet" type="text/css" href="/stylesheets/index.css">

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <!--Righteous font fam for nav-brand-->
	<link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet">
  <!--favicon (tab image)-->
	<link rel="icon" type="image/x-icon" href="/images/t-icon.ico">
  <!--meta for views-->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
	<%if(currentUser){%>
		<body onload = "randGood(),randMyself()">
			
	<%}%>
<body>
	<!--Green navbar with white text, hamburger-->
<nav class="navbar navbar-expand-lg navbar-dark">
  <a class="navbar-brand" href="/">thankfull</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item">
		  <%if(currentUser){%>
        <a class="nav-link" href="/mylists">My Lists</a>
		  <%}%>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/otherslists">Other's Lists</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/contact">Contact</a>
      </li><li class="nav-item">
        <a class="nav-link" href="/about">About</a>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto">
		  <% if(currentUser){ %>
        <a class="nav-link disabled" href="#">Welcome <%=currentUser.fName%>!</a>
        <a class="nav-link" href="/myprofile">Your Profile</a>
        <a class="nav-link" href="/logout">Logout</a>
		  <% } else { %>
        <a class="nav-link" href="/signin">Sign In</a>
        <a class="nav-link" href="/signup">Sign Up</a>
		  <% } %>
    </ul>
  </div>
</nav>
<div class="container">
	<div class="container-alert">
		<%if(error && error.length > 0){%>
			<div class="alert alert-danger" role="alert">
				<%=error%>
			</div>
		<%}%>
		<%if(success && success.length > 0){%>
			<div class="alert alert-success" role="alert">
				<%=success%>
			</div>
		<%}%>
	</div>
</div>
<%if(!currentUser){%>
	<div id="notsignedin">
		<div class="container">
			<div class="row">
					<div class="col-sm-12 home">
						<h4 class="card-title">
								<p>Welcome to <span id="thankfullhome">thankfull</span>!</p>
								<p>Here's how it works:</p>
							</h4>
						<div class="card">
							<div class="card-body">
								<p id="step1"><svg class="bi bi-chevron-right" width="25" height="25" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M6.646 3.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L12.293 10 6.646 4.354a.5.5 0 010-.708z" clip-rule="evenodd"/></svg>
<strong>Step 1:</strong> Make an account and head over to the "My Lists" page once you've signed in</p>
						<p id="step2">
							<svg class="bi bi-chevron-right" width="25" height="25" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M6.646 3.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L12.293 10 6.646 4.354a.5.5 0 010-.708z" clip-rule="evenodd"/></svg>
<strong>Step 2:</strong> Add items to your two lists:</p>
						<p id="step2">
							<svg class="bi bi-file-text" width="25" height="25" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.5 10.5A.5.5 0 015 10h3a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-2A.5.5 0 015 8h6a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-2A.5.5 0 015 6h6a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-2A.5.5 0 015 4h6a.5.5 0 010 1H5a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>
</svg>
							A list of good things in your life,</p>
						<p id="step2">
							<svg class="bi bi-file-text" width="25" height="25" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.5 10.5A.5.5 0 015 10h3a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-2A.5.5 0 015 8h6a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-2A.5.5 0 015 6h6a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-2A.5.5 0 015 4h6a.5.5 0 010 1H5a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>
</svg>
							And a list of positive things about yourself</p>
						<p id="step3"><svg class="bi bi-chevron-right" width="25" height="25" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M6.646 3.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L12.293 10 6.646 4.354a.5.5 0 010-.708z" clip-rule="evenodd"/></svg><strong>Step 3:</strong> Remind yourself of all the good in your life</p>
						<p id="step3"><svg class="bi bi-display" width="25" height="25" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M5.75 13.5c.167-.333.25-.833.25-1.5h4c0 .667.083 1.167.25 1.5H11a.5.5 0 010 1H5a.5.5 0 010-1h.75z"/>
  <path fill-rule="evenodd" d="M13.991 3H2c-.325 0-.502.078-.602.145a.758.758 0 00-.254.302A1.46 1.46 0 001 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 00.538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 00.254-.302 1.464 1.464 0 00.143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 00-.302-.254A1.46 1.46 0 0013.99 3zM14 2H2C0 2 0 4 0 4v6c0 2 2 2 2 2h12c2 0 2-2 2-2V4c0-2-2-2-2-2z" clip-rule="evenodd"/>
</svg>You can check your homepage every morning when you wake up or whenever you're going through a rough time :)</p>
							</div>
						</div>
						
			</div>
		</div>
	</div>
<%}%>
	
	
<%if(currentUser){%>
	<script>
	function randGood(){
		$(document).ready(function(){
			var goodTextArr = "<%=goodTextArr%>"
			const regex = /&#39;/gi;
			goodTextArr = goodTextArr.replace(regex, "'");
			var theSplitGood = goodTextArr.split(",");
			$("#card-text-good").text(theSplitGood[Math.floor(Math.random()*theSplitGood.length)]);
		});
	} 
	function randMyself(){
		$(document).ready(function(){
			var myselfTextArr = "<%=myselfTextArr%>"
			const regex = /&#39;/gi;
			myslefTextArr = myselfTextArr.replace(regex, "'");
			var theSplitMyself = myselfTextArr.split(",");
			$("#card-text-myself").text(theSplitMyself[Math.floor(Math.random()*theSplitMyself.length)]);
		});
	} 
	function togGoodList(){
		$(".goodList").slideToggle(500);
		if ($(".btn.btn-success.good-list").text() == "Show") { 
			$(".btn.btn-success.good-list").text("Hide"); 
		} else { 
			$(".btn.btn-success.good-list").text("Show"); 
		}; 
	};
	function togMyselfList(){
		$(".myselfList").slideToggle(500);
		if ($(".btn.btn-success.myself-list").text() == "Show") { 
			$(".btn.btn-success.myself-list").text("Hide"); 
		} else { 
			$(".btn.btn-success.myself-list").text("Show"); 
		}; 
	};
</script>
	
	<div class="container">
		<h1>Welcome!</h1>
	<div class="row">
	  <div class="col-sm-6 home">
		<div class="card">
		  <div class="card-body">
			<h5 class="card-title">Something good in my life:</h5>
			<p id="card-text-good"></p>
			<button onclick="randGood()"class="btn btn-outline-success good">Another positive in my life</button>
		  </div>
		</div>
	  </div>
	  <div class="col-sm-6 home">
		<div class="card">
		  <div class="card-body">
			<h5 class="card-title">Something good about myself:</h5>
			<p id="card-text-myself"></p>
			<button onclick="randMyself()" class="btn btn-outline-success myself">Another good thing about me</button>
		  </div>
		</div>
	  </div>
	</div>
	</div>

	<div class="container">
	<div class="row">
	  <div class="col-sm-6 home">
		<div class="card">
		  <div class="card-body">
			<h5 class="card-title">Show me everything good in my life</h5>
			  <ul class="goodList">
			<%currentUser.good.forEach(function(item){%>
				<li><%=item.text%></li>
			<%})%>
		  </ul>
			<button onclick="togGoodList()" class="btn btn-success good-list">Show</button>
		  </div>
		</div>
	  </div>
	  <div class="col-sm-6 home">
		<div class="card">
		  <div class="card-body">
			<h5 class="card-title">Show me everything good about myself</h5>
			  <ul class="myselfList">
				<%currentUser.myself.forEach(function(item){%>
					<li><%=item.text%></li>
				<%})%>
		  	  </ul>
			<button onclick="togMyselfList()" class="btn btn-success myself-list">Show</button>
		  </div>
		</div>
	  </div>
	</div>
	</div>
<%}%>

	
<%-include("partials/footer")%>